---
import { Image } from "astro:assets";
import { Icon } from "astro-icon";
import dashboardImage from "assets/dashboard.png";
import ParticleButton from "./ui/ParticleButton.astro";
import { Picture } from "astro:assets";
import searchAnimationGif from "assets/search-animation-repeat.gif";


const features = [
  {
    title: "AI Reservation Assistant",
    description: "Let our AI handle bookings 24/7, answer guest questions, and manage your calendar automatically. Free up your time while maximizing occupancy.",
    icon: "ph:robot-fill",
  },
  {
    title: "Digital Guidebooks",
    description: "Create beautiful digital guides for your campground. Help guests find amenities, trails, and local attractions with ease.",
    icon: "ph:book-open-fill",
  },
  {
    title: "Management Dashboard",
    description: "One central hub to manage reservations, update guides, and track analytics. Keep everything organized and accessible.",
    icon: "ph:chart-line-fill",
  },
];
---
<div class="flex justify-center"><Picture src={searchAnimationGif} alt="CampsiteIQ dashboard preview" width={800} height={200} /></div>
<div class="relative">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 py-16">
    <div class="text-center max-w-3xl mx-auto mb-12">
      <h2 class="text-4xl md:text-5xl font-bold gradient-text mb-4 md:leading-normal">
        Run Your Campground Smarter
      </h2>
      <p class="text-lg text-slate-600">
        Automate reservations and delight guests with modern digital tools built for outdoor hospitality.
      </p>
    </div>

    <div class="grid md:grid-cols-3 gap-10">
      {
        features.map((feature) => (
          <div class="relative group">
            <div class="gradient-hover"></div>
            <div class="glass-card p-8 text-center h-full">
              <div class="relative w-16 h-16 rounded-full gradient-bg mx-auto mb-8 group-hover:scale-110 transition-transform duration-300">
                <div class="absolute inset-0 rounded-full bg-blue-600/20 animate-ping" />
                <div class="relative flex items-center justify-center w-full h-full">
                  <Icon class="w-8 h-8 text-white" name={feature.icon} />
                </div>
              </div>
              <h3 class="text-xl font-bold gradient-text mb-4">{feature.title}</h3>
              <p class="text-slate-600 leading-relaxed">{feature.description}</p>
            </div>
            <div class="gradient-glow opacity-0 group-hover:opacity-100 transition-opacity duration-500" />
          </div>
        ))
      }
    </div>

    <div class="mt-20 relative">
      <div class="glass-card p-8 relative">
        <div class="relative z-10 grid lg:grid-cols-2 gap-10 items-center">
          <div class="text-center lg:text-left">
            <h3 class="text-3xl font-bold gradient-text mb-4">
              Powerful Dashboard
            </h3>
            <p class="text-lg text-slate-600 mb-8">
              Manage all your properties, update content, and track analytics from one central location. Keep your guides up-to-date with real-time changes.
            </p>
            <ParticleButton href="/features" class="button-gradient inline-flex items-center">
              Learn More
              <svg class="w-5 h-5 ml-2 -mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
              </svg>
            </ParticleButton>
          </div>
          <div class="relative group">
            <div class="absolute inset-0 bg-gradient-to-r from-blue-500/30 to-purple-500/30 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500" />
            <Image
              src={dashboardImage}
              alt="CampsiteIQ Dashboard"
              width={600}
              height={400}
              class="rounded-xl shadow-2xl hover-scale"
            />
            <div class="absolute inset-0 bg-gradient-to-br from-blue-500/10 to-purple-500/10 rounded-xl" />
          </div>
        </div>

        <!-- Decorative elements -->
        <div class="fixed pointer-events-none inset-0 overflow-hidden">
          <div class="absolute top-1/4 right-1/4 w-40 h-40 bg-blue-500/10 rounded-full blur-3xl" />
          <div class="absolute bottom-1/4 left-1/4 w-40 h-40 bg-purple-500/10 rounded-full blur-3xl" />
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  @keyframes ping {
    75%, 100% {
      transform: scale(2);
      opacity: 0;
    }
  }
  
  .animate-ping {
    animation: ping 2s cubic-bezier(0, 0, 0.2, 1) infinite;
  }
</style>
